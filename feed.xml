<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.10.0">Jekyll</generator><link href="https://shamshad.in/feed.xml" rel="self" type="application/atom+xml" /><link href="https://shamshad.in/" rel="alternate" type="text/html" /><updated>2025-09-09T06:47:42+05:30</updated><id>https://shamshad.in/feed.xml</id><title type="html">M. Shamshad</title><subtitle>I have dream...</subtitle><author><name>M. Shamshad</name><email>shamshad.rattan@gmail.com</email></author><entry><title type="html">A tutorial on Genome-Wide Association Studies (GWAS) in Tassel (GUI)</title><link href="https://shamshad.in/posts/2021/01/A-tutorial-on-Genome-Wide-Association-Studies/" rel="alternate" type="text/html" title="A tutorial on Genome-Wide Association Studies (GWAS) in Tassel (GUI)" /><published>2021-01-20T00:00:00+05:30</published><updated>2024-10-06T20:53:46+05:30</updated><id>https://shamshad.in/posts/2021/01/A-tutorial-on-Genome-Wide-Association-Studies</id><content type="html" xml:base="https://shamshad.in/posts/2021/01/A-tutorial-on-Genome-Wide-Association-Studies/"><![CDATA[Genome-wide association studies (GWAS) increase their popularity among medical, biological, and social sciences to identify the association between single nucleotide polymorphisms and phenotypic traits. This tutorial aims to provide a guidelines for conducing genome wide analysis in Tassel.

<!--more-->

## TASSEL
__TASSEL__ also known as for the `Evaluate traits aSSociations, Evolutionary Patterns, and linkage disequilibrium.` It is a powerful statistical software to conduct `association mapping` such as `General Linear Model (GLM)` and `Mixed Linear Model (MLM)`. The Tassel has ability to handle a wide range of indels (insertion & deletions).

The GUI (graphical user interface) version of TASSEL is very well built for anyone who does not have a background or experience in working in `command line`. I will show how to prepare `input` files and run association analysis in TASSEL. For detailed information on TASSEL, user's guide and further documentation please visit: 
[https://www.maizegenetics.net/tassel](https://www.maizegenetics.net/tassel)

## 1.0 Download and install TASSEL software 
Download and install the latest version of the <strong> TASSEL software </strong> at this link:
[https://www.maizegenetics.net/tassel](https://www.maizegenetics.net/tassel)

---

### 1.1: Preparing the Input files
 
<b><u>Phenotype  file</u></b>

Prepare the phenotype file as shown below in the figure, and please remember if your data has `covariates` such as `sex`, `age` or `treatment`, then, please categories them with header name `factor`.

<center><img src="/images/biostat/gwas/pheno.png" alt="Phenotype data"></center>

---
<b><u> Genotype file</u></b>

TASSEL allows various genotype file formats such as `VCF` (variant call format), `.hmp.txt`, and `plink`. In this tutorial, I am using the `hmp.txt` version of the genotype file. The below githe screenshot of the hmp.txt genotype file. 

<center><img src="/images/biostat/gwas/geno.JPG" alt="Genotype data"></center>

---

### 1.2: Importing phenotype and genotype files 
Import the files by following the steps shown below.
> __Tip!__ Both files can be opened at same time holding `CTRL` and clicking the file names. 

<center><img src="/images/biostat/gwas/importfiles.gif" alt="Import data"></center>

---

### 1.3 Checking data on the basis of Phenotype distribution plot
It is always a wise idea to look at the phenotype distribution by plotting to check for any outliers. Follow below steps to plot histogram of your phenotype data.

<center><img src="/images/biostat/gwas/phenoplot.gif" alt="Phenotype distribution"></center>

---

### 1.5 Genotype summary analysis 
Next crucial step is to look at the genotype data by simply following the steps shown.
Couple of keys things to look at are:
<ol>
  <li>Minor allele frequency distribution </li>
  <li>Missing genotypic data to see if it requires to be imputed </li>
  <li>Proportion of heterozygous in the samples to check for self-ed samples </li>
</ol>

<center><img src="/images/biostat/gwas/genosummary.gif" alt="Genotype summary"></center>
<hr>

  
## 2.0 Conduct GWAS analysis 

### 2.1 multidimensional scaling (MDS) 
MDS output can be used as the covariate in the GLM or MLM to correct for population structure.
Please follow the steps shown below:

<center><img src="/images/biostat/gwas/mds.gif" alt="MDS"></center>
  
---

### 2.2 Intersecting the files 
Intersect the `genotype`, `phenotype` and `MDS` files by following the steps below:

<center><img src="/images/biostat/gwas/intersect.gif" alt="Intersect files"></center>

---

## 3.0 running General Linear Model (GLM) 
Run the GLM analysis by selecting the `intersected` files following the steps below:

<center><img src="/images/biostat/gwas/glm.gif" alt="GLM"></center>

---

The output of the GLM analysis is produced under the `Result` node. The GLM association test can be evaluated by plotting `Q-Q plot` and the `Manhattan` plot as shown below. 

<center>
<img src="/images/biostat/gwas/manhattan.png" width="auto" height="200" alt="GLM Manhattan plot">
<img src="/images/biostat/gwas/qqplot.png" width="auto" height="200" alt="Q-Q plot">
</center>

From the above Q-Q plot, we can see that are several markers that appear to be falsely associated with the trait, therefore, to control this confounding effect, use `Kinship` matrix as an another covariate in the linear model

---

## 4.0 Mixed Linear Model (MLM)  

Mixed Linear Model used [Unified Mixed-Model Method for Association Mapping](https://www.nature.com/articles/ng1702). It helps to reduces Type I error in association mapping with complex pedigrees, families, founding effects and population structure.

### 4.1 Calculating Kinship matrix 
Follow the below steps to calculate the kinship matrix:

<center><img src="/images/biostat/gwas/kinship.gif"  alt="Kinship matrix"></center>

---

### 4.2 running Mixed Linear Model (MLM)  
MLM model includes the PCA and the kinship matrix i.e. MLM(PCA+K).

Therefore, once the Kinship matrix has been calculated, MLM can be now be conducted by following below steps:

<center><img src="/images/biostat/gwas/mlm.gif"  alt="MLM steps"></center>

---

Plot the output (MLM stats file in the Results branch following the above shown steps).
<center>
<img src="/images/biostat/gwas/manhattanMlm.png" width="auto" height="200" alt="MLM Manhattan plot">
<img src="/images/biostat/gwas/qqmlm.png" width="auto" height="200" alt="MLM Q-Q plot">                                                           
</center>

---

### 4.2 Exporting results  
One may export the results in .txt format by the following the below steps:

<center><img src="/images/biostat/gwas/export.gif"  alt="Export results">
</center>

---

### 4.3 Significance Threshold

Bonferroni threshold can be determined to identify significantly markers associated with the trait  by using the below equation:

```scss
P ≤ 1/N (α =0.05)
```
where, N is the total number of markers tested in association analysis) was used to identify the most significantly markers associated with the trait. Similarly, another way is to perform `FDR` (`False Discovery Rate`) correction method.

---
<center> <b>End of Tutorial</b></center>

---

__Thank you__ for reading this tutorial. If you have any query or comments, please let me know in the comment section below or send me an email. 

---
<b> Bibliography </b>
<ol>
<li>
<p>	Bradbury PJ, Zhang Z, Kroon DE, Casstevens TM, Ramdoss Y, Buckler ES. (2007)<cite> TASSEL: Software for association mapping of complex traits in diverse samples.</cite> Bioinformatics 23:2633-2635.</p>
</li>
<li>
<p>Yu, J., Pressoir, G., Briggs, W. et al. (2006) <cite>A unified mixed-model method for association mapping that accounts for multiple levels of relatedness</cite> Nat Genet 38, 203–208. https://doi.org/10.1038/ng1702 </p>
</li>
</ol>]]></content><author><name>M. Shamshad</name><email>shamshad.rattan@gmail.com</email></author><category term="TASSEL" /><category term="software" /><category term="GWAS GUI" /><category term="TASSEL" /><category term="Genome-wide association analysis" /><category term="Linear model" /><category term="GLM" /><category term="MLM" /><summary type="html"><![CDATA[Genome-wide association studies (GWAS) increase their popularity among medical, biological, and social sciences to identify the association between single nucleotide polymorphisms and phenotypic traits. This tutorial aims to provide a guidelines for conducing genome wide analysis in Tassel.]]></summary></entry><entry><title type="html">A tutorial on investigate genetic admixture using STRUCTURE software</title><link href="https://shamshad.in/posts/2021/01/investigate-genetic-admixture-using-STRUCTURE-software/" rel="alternate" type="text/html" title="A tutorial on investigate genetic admixture using STRUCTURE software" /><published>2021-01-05T00:00:00+05:30</published><updated>2024-10-06T20:53:46+05:30</updated><id>https://shamshad.in/posts/2021/01/investigate-genetic-admixture-using-STRUCTURE-software</id><content type="html" xml:base="https://shamshad.in/posts/2021/01/investigate-genetic-admixture-using-STRUCTURE-software/"><![CDATA[**Structure Software** is a freely available software package that one may use for rigorous investigation of `admixed individuals`; identification of `point of hybridization` and `migrants`; and estimate over all `structure` of a population using a commonly used genetic markers such as `SNPs` and `SSRs`. This software was developed by **Pritchard Lab** at **Stanford University** and can downloaded at this [link](https://web.stanford.edu/group/pritchardlab/structure.html).
<!--more-->

***
Download sample data set: [click here](/images/biostat/structure/data_structure_1.txt)

***
In this tutorial, I will show how to prepare `input` files and run the `Structure` software. For detail information, please read this article at this <a href="https://web.stanford.edu/group/pritchardlab/structure.html">link</a>

***
## Step 1: Preparing the Input file
In this tutorial, I am using `numerical` SNP data as in `input` genotype file. One can convert their genotype data in numerical format in `TASSEL` software or any software package available as per ones convenience. The file needs to be formatted properly as shown below in the image below and save it as `.txt` file.

<p align="center">
<img src="/images/biostat/structure/input-structure.webp" alt="Input structure File"/>
</p>

***

**Please Note** Missing data is denoted as `-9` in the above image. 

## Step 2: Running the Structure biostat
<!--more-->
### 1.1 Importing input file

Once the input file with the correct header and format is ready, import the the file in `Structure` software using the steps shown in the below figure. The importing steps include __4__ steps, please make sure to select correct directory and file name. At __step 2 of 4__ make sure to correctly input `number of markers`, `samples/individual`, and `ploidy` (if genotypes are 'A' then enter 1 but if, it is 'AA' enter 2), and finally, enter how the `missing data` are indicated as in the file. In this tutorial, I denoting the missing data '-9'. 

***
<p align="center">
<img src="/images/biostat/structure/Import-structure.gif" alt="Import data in structure"/>
</p>
***

### Step: 1.2 Set Parameter
Follow the steps shown in the below figure to run this step. **Please remember** One make custom add the `length of burning period` and `Number of MCMC Reps after burnin`.

***
<p align="center">
<img src="/images/biostat/structure/Set-Parameter.gif" alt="Set parameters structure"/>
</p>
***

### Step: 1.3 Running the project
Follow the steps shown in the below figure to run this step. **Please remember** to run at least 10 `number of iterations`. One see the job progress at the bottom black window of the shell.

***
<p align="center">
<img src="/images/biostat/structure/run-structure-project.gif" alt="Running the project structure"/>
</p>


***

### Step: 1.4 Viewing the results
Follow the steps shown in the below figure to run this step. **Please remember** under the `Results` folder there are several branches of the results with various `k` values, which indicates **number of sub-populations** estimated from the given genetic data. It can tricky to pick the correct number of `k` for the data, and to solve this follow the next step to prepare files for a different software known as `Structure Harvester`. 

***

<p align="center">
<img src="/images/biostat/structure/structure-resultus.gif" alt="Viewing the structure results"/>
</p>

<!--more-->
## 2.1 Preparing Files for Structure Harvester
`zip` all the result files in the results folder.
<!--more-->
<p align="center">
<img src="/images/biostat/structure/structure-harvester.gif" alt="Files for Structure Harvester"/>
</p>
***

## 2.2 Running Structure Harvester 
One your web browser search for `structure harvester`, and click the first the search result. Next, upload the `results.zip` file, click `harvest` to run the Structure Harvester program. It can take about few mins to run, however, it definitely depends on your data. Once the job is completed, the program outputs the summary of the analysis, the key output to look at is `Delta K` plot and `Evanno table`. 


***
<p align="center">
<img src="/images/biostat/structure/run-structure-harvester.gif" alt="Run Structure Harvester"/>
</p>
<!--more-->

## 2.3 Interpreting the output 
`Evanno table` highlights the significant `k` value that is estimated for this genotype data (see below figure). For this tutorial data set, the estimated from `k` is 3 subpopulation which is also supported by the `Delta K` plot, where a clear peak is see at `K = 3` (see Delta K plot below).

<p align="center">
<img src="/images/biostat/structure/ktable.webp"/>
</p>
<!--more-->
<p align="center">
<img src="/images/biostat/structure/deltaK.webp">
</p>

**Therefore** the correct bar plot with correct number of sub-population (k) is 3, which can be plotted by following the steps shown in **1.4**
<p align="center">
<img src="/images/biostat/structure/structure-result-final.webp">
</p>
  
***

**Thank you** for reading this tutorial. If you have any questions or comments, please let me know by email.

---
Happy Structure-ing :smiley:
<hr>
<b> Bibliography </b>
<ol>
         <li>
<p>Pritchard, Jonathan K., William Wen, and Daniel Falush. <cite>"Documentation for STRUCTURE software: Version 2."</cite> (2003).</p>
</li>
         <li>
  <p>Earl, Dent A. <cite> "STRUCTURE HARVESTER: a website and program for visualizing STRUCTURE output and implementing the Evanno method."</cite> Conservation genetics resources 4.2 (2012): 359-361.</p>
  </li>
      </ol>]]></content><author><name>M. Shamshad</name><email>shamshad.rattan@gmail.com</email></author><category term="Structure" /><category term="software" /><category term="Structure software" /><category term="Genetic Admixture" /><category term="Genetic data" /><category term="Population structure" /><summary type="html"><![CDATA[Structure Software is a freely available software package that one may use for rigorous investigation of admixed individuals; identification of point of hybridization and migrants; and estimate over all structure of a population using a commonly used genetic markers such as SNPs and SSRs. This software was developed by Pritchard Lab at Stanford University and can downloaded at this link.]]></summary></entry><entry><title type="html">Plot Genetic Linkage Maps using MapChart software</title><link href="https://shamshad.in/posts/2020/10/mapchart/" rel="alternate" type="text/html" title="Plot Genetic Linkage Maps using MapChart software" /><published>2020-10-10T00:00:00+05:30</published><updated>2024-10-06T20:53:46+05:30</updated><id>https://shamshad.in/posts/2020/10/mapchart</id><content type="html" xml:base="https://shamshad.in/posts/2020/10/mapchart/"><![CDATA[**MapChart** is a free software to plot publishing quality genetic linkage maps as well as QTLs. This software was developed at **Wageningen University** by **Roeland E. Voorrips**  and can be downloaded at this <a href="https://www.wur.nl/en/show/Mapchart.htm"> link </a>. 

<!--more-->

In this tutorial, We are going to learn how to prepare `input` files and plot the genetic linkage map in the `MapChart` software. For detail information, please read this article at this <a href="https://www.wur.nl/en/show/Mapchart.htm">link</a>. The software also contains a descriptive manual, please consult it for detailed information.

## Step 1: Preparing the Input file 
In `MS Excel` or any relevant software, create the input file as shown in the images below. **Please Note** third column is optional, which can be used to color code the marker names and position. In this example, I have used `C2` to color some markers in the `red`.

<p align="center">
<img src="/images/biostat/mapchart/Input-mapChart.webp" alt="Input File"/>
</p>

***

## Step 2: Running the MapChart software 

### 1.1 Importing input file

Open `MapChart` and copy the input data from `MS Excel`, and paste in the window as shown below.
Please note, if you have data for multiple linkage groups or chromosomes then in the same window add those information starting from different line and make sure to have the correct the chromosome number for each `Group`.

***
<p align="center">
<img src="/images/biostat/mapchart/mapchart2.gif" alt="Import data"/>
</p>

***

### Step: 1.2 Plot maps
Once the input data are loaded, click `chart` to plot the map. Follow the steps shown in the below figure to run this step. Once the plot is generated, it can be copied and pasted or saved as a desired format.

***
<p align="center">
<img src="/images/biostat/mapchart/mapchart3.gif" alt="Plot">
</p>

***

### Step: 1.3 Formating the plot (optional)
Under the `Tools` click `chart options` one can format the plot by choosing the given parameters.

***
<p align="center">
<img src="/images/biostat/mapchart/mapchart4.gif" alt="parameters">
</p>

***

### 2.0 Extra: Adding QTL results with Linkage Map
To add the QTL scan information by the Linkage map plot, two files are needed:
<ul>
 <li> Graph file (*.txt)-- It contains the QTL scan information such as: Linkage group or chromosome, LOD score, markers name and their position </li>
 <li> MapChart datafile (*.mct) </li>
</ul>
Please make sure to **save** the above two files in the same directory.

#### 2.1 Graph file 
An example of graph file is shown below snippet. It should be saved a text file (.txt)
The first line of the should contain the below listed headers/column names in the same order:
<ol>
 <li> Map = the marker position </li>
 <li> Group = Linkage group or chromosome </li>
 <li> LOD = LOD scores of the markers from QTL scan </li>
 <li> Locus = Marker names </li>
</ol>

```scss
Map	Group	LOD	Locus
0	3	0.338142225	3_271381
0	3	0.338142225	3_342741
3.016	3	0.342828507	3_441478
3.016	3	0.342828507	3_1842464
8.692	3	0.995532085	3_609816
8.692	3	0.995532088	3_3385014
8.692	3	0.99554481	3_3633235
8.692	3	0.995559978	3_3781609
8.692	3	0.995559979	3_2314233
13.825	3	1.667949557	3_3143022
15.815	3	2.051705308	3_3905978
15.815	3	2.051705309	3_3488939
20.948	3	2.435239204	3_4019281
20.948	3	2.435239205	3_4088612
21.933	3	3.525018239	3_4315306
21.933	3	3.525018244	3_4565569
21.933	3	3.525018244	3_4822693
27.609	3	4.450683912	3_5155501
27.609	3	4.450683912	3_5232850
27.609	3	4.450683917	3_5507072
30.625	3	5.838195827	3_5583374
30.625	3	5.83819583	3_5699986
30.625	3	5.838219391	3_5797319
30.625	3	6.158922578	3_6000617
30.625	3	6.158930443	3_6426810
30.625	3	6.158983621	3_6986623
30.625	3	6.158983624	3_6650857
33.126	3	5.816798097	3_7155917
33.126	3	5.816798097	3_7220808
33.616	3	6.087780718	3_7472345
36.632	3	7.120904543	3_7742797
40.695	3	7.595581176	3_8256808
40.695	3	7.595581176	3_8738055
40.695	3	7.595581176	3_8604250
40.695	3	7.595581178	3_9374964
45.29	3	9.327503718	3_11252155
45.29	3	9.327503722	3_14850509
48.827	3	11.41099851	3_15846197
48.827	3	11.41099851	3_17712785
48.827	3	11.41099851	3_17950996
50.312	3	10.17917069	3_19297395
50.312	3	10.17917069	3_19690734
```

#### 2.2 MapChart file (*.mct)
An example file of mapchart file is shown in snippet below.

In this file, one can indicate the most significant marker and QTL intervals. For example, in the below snippet, notice that under group 3, I have added t=`***` by marker **3_17950996** to highlight the significant marker, similarly, added **b** by markers **3_14850509** and **3_19690734** to indicate the qtl intervals.

Further, please read the **notes** (lines beginning with `**`;`**`) in the snippet below to learn more about how one add x- and y-axis scale, draw line for LOD threshold and position of candidate gene/s. 

```scss
group 3
3_271381	0	
3_342741	0	
3_441478	3.016	
3_1842464	3.016	
3_609816	8.692	
3_3385014	8.692	
3_3633235	8.692	
3_3781609	8.692	
3_2314233	8.692	
3_3143022	13.825	
3_3905978	15.815	
3_3488939	15.815	
3_4019281	20.948	
3_4088612	20.948	
3_4315306	21.933	
3_4565569	21.933	
3_4822693	21.933	
3_5155501	27.609	
3_5232850	27.609	
3_5507072	27.609	
3_5583374	30.625	
3_5699986	30.625	
3_5797319	30.625	
3_6000617	30.625	
3_6426810	30.625	
3_6986623	30.625	
3_6650857	30.625	
3_7155917	33.126	
3_7220808	33.126	
3_7472345	33.616	
3_7742797	36.632	
3_8256808	40.695	
3_8738055	40.695	
3_8604250	40.695	
3_9374964	40.695	
3_11252155	45.29	
3_14850509	45.29	b
3_15846197	48.827	
3_17712785	48.827	
3_17950996	48.827	t=*** c2
3_19297395	50.312	
3_19690734	50.312	b



qtls ; QTLs section of group 3
Anthocyanin-acyltransferases auto 1 2  I C3
     ;qtl Anthocyanin-acyltransferases is calculated ("auto") from graph Anthocyanin-acyltransferases (see below), 
     ;with 1-LOD and 2-LOD thresholds
     ;it is shown in color 3 (C3, green)
     ;with the default fillstyle (F1, solid)
     ;and its name is printed in italics (I)

graphs S=5 H=15
; Graphs section of group A, with formatting of Y-axis:
; Step (tick interval) on Y-axis is 5 (S=5; would be 10 if not specified)
; High (upper) limit of Y-axis = 15 (H=15; would be 30 if not specified)

const 3.49 L3
     ;shows a constant line (the LOD threshold of 3.49)
     ;it is shown with linestyle L3 (dotted)
     ;and does not appear in the legend, because it is a constant

Anthocyanin-acyltransferases graphFile_chr3.txt  I C3 S2 L5
     ;graph Anthocyanin-acyltransferases is read from file graphFile_chr3.txt (lines with Group 3)
     ;it is shown in color C3 (green)
     ;and in the legend its name is printed in italics (I)
     ;it is shown with linestyle L5 (dash-dot-dot)
     ;and with symbol style S2 (solid circle)
```
***
### Follow the below steps to open and run the above files in MapChart
<p align="center"><img src="/images/biostat/mapchart/mapchart5.gif" alt="run mapchart"></p>

***
### Output
The generated plot can be copied and pasted into any other platforms such as MS Word/Powerpoint and saved.
<p align="center">
<img src="/images/biostat/mapchart/qtlplot.webp" alt="QTL map plot">
</p>

*****

**Thank you** for reading this tutorial. If you have any questions or comments, please let me know in the comment section below or send me an email. 

Happy plott-ing :smiley:
<hr>
<b> Bibliography </b>
<ol>
<li>
<p> Voorrips, R. E. <cite>"MapChart: software for the graphical presentation of linkage maps and QTLs."</cite> Journal of heredity 93.1 (2002): 77-78.</p>
</li>
</ol>]]></content><author><name>M. Shamshad</name><email>shamshad.rattan@gmail.com</email></author><category term="QTL" /><category term="maps," /><category term="molecular" /><category term="Analysis" /><category term="MapChart" /><category term="Linkage Mapping" /><category term="QTLs maps" /><summary type="html"><![CDATA[MapChart is a free software to plot publishing quality genetic linkage maps as well as QTLs. This software was developed at Wageningen University by Roeland E. Voorrips and can be downloaded at this link .]]></summary></entry><entry><title type="html">Online submission of a scientific paper, a guideline for beginners</title><link href="https://shamshad.in/posts/2020/09/scientific-paper/" rel="alternate" type="text/html" title="Online submission of a scientific paper, a guideline for beginners" /><published>2020-09-04T00:00:00+05:30</published><updated>2024-10-06T20:53:46+05:30</updated><id>https://shamshad.in/posts/2020/09/scientific-paper</id><content type="html" xml:base="https://shamshad.in/posts/2020/09/scientific-paper/"><![CDATA[There exist some definite gaps “from performing of an experiment to the formulation of a hypothesis”. It is not necessary that a person good at lab work must be an expert in scientific writing too.
<!--more-->
Besides writing a paper, incomplete knowledge about paper submission and fear of its rejection are the major hurdles in publication. This article is, therefore, an attempt to emphasize some ground facts about academic writing and guide for those students (beginners) who are afraid of correspondence.
<!--more-->
Writing a paper does not mean necessarily you have to collect a very large quantity of data or write complex scientific sentences constituting many formal words. Instead, you just need to be natural and focused on your topic. Either you are planning to write a review paper, an opinion, a short communication, or a research paper, the paper submission process is almost the same for every type of paper (with some minor differences). I am trying here to explain a brief and simple systematic procedure for paper submission, which might be helpful for novices.
<!--more-->
## 1. The selection of a journal
First for more important step is to search for a suitable scientific journal for your article. The paper submission is not a default process, that is, you write a paper and submit it anywhere, but before writing it is a selective method with many specifications. Hence, one should be precise in selecting a journal. The best way to find a suitable journal is using the online journal finder tools/websites, where you just need to paste the title and abstract (of a manuscript) in the respective search column and the journal finder will provide you a list of relevant journals (along with the percentage of acceptance probability).
## 2. Registration or creating a journal account
Once you selected an appropriate journal, directly open the primary webpage of that journal, instead of approaching it through a third channel (it might waste your time). Now you need to be registered with the selected journal, but before being registered, read the “journal’s aims and scope” carefully to cross-check the relevancy of the journal with paper under consideration.
## 3. Preparation of manuscript
Scientific papers typically have two audiences: first, the referees, who help the journal editor decide whether a paper is suitable for publication; and second, the journal readers themselves, who may be more or less knowledgeable about the topic addressed in the paper. To be accepted by referees and cited by readers, papers must do more than simply present a chronological account of the research work. Rather, they must convince their audience that the research presented is important, valid, and relevant to other scientists in the same field. To this end, they must emphasize both the motivation for the work and the outcome of it, and they must include just enough evidence to establish the validity of this outcome.
Papers that report experimental work are often structured chronologically in five sections: first, Introduction; then Materials and Methods, Results, and Discussion (together, these three sections make up the paper's body); and finally, Conclusion.
 - The Introduction section clarifies the motivation for the work presented and prepares readers for the structure of the paper.
 - The Materials and Methods section provides sufficient detail for other scientists to reproduce the experiments presented in the paper. In some journals, this information is placed in an appendix, because it is not what most readers want to know first.
 - The Results and Discussion sections present and discuss the research results, respectively. They are often usefully combined into one section, however, because readers can seldom make sense of results alone without accompanying interpretation — they need to be told what the results mean.
 - The Conclusion section presents the outcome of the work by interpreting the findings at a higher level of abstraction than the Discussion and by relating these findings to the motivation stated in the Introduction.
 
Read the author’s instruction page thoroughly, and format the manuscript as per the given guidelines. I believe this is the most important and time taking step. The editor, who first receives your paper, has complete authority to reject if you submit a poorly formatted article (especially the wrong citation style). I prefer to use [Zotero reference manger](https://www.zotero.org/) for putting references in articles because this tool is convenient and quick. Simply import the journal’s `CSL` style from the reference section (given in the author’s guidelines) and update the citation style in the MS word file of the manuscript. Furthermore, prepare the supplementary files, figures, tables, etc according to the given criteria. Some journals need a “whole document submission” (all files included), while the majority require submission in form of separate files (of figures, tables, and script). So, prepare the files accordingly.

## 4. Writing a cover letter to the editor
Congrats! You have prepared your manuscript in the light of given instruction; you are almost done with 75% of your task. Now write an outstanding covering letter to the journal’s editor, which answer the following questions:
<!--more-->
- What is your submission about?
- Why the journal should consider your submission?
- What type of readers your paper will attract?
- What is significant or novel in your study?

A cover letter should be brief and constitute two or three paragraphs. The letter must include the details of the corresponding author.
## 5. Final submission
Good job! You are now ready to go for the final submission.
<!--more-->
Submit your prepared manuscript files in the respective journal. Almost all the journals have a very easy channel of paper submission and you can easily upload the files in the required sections. For instance, the Wiley online publishing group, all their journals have a very smooth pattern of submission, first, you upload title and abstract, secondly, the files (main document and supplementary), then authors list, followed by the reviewer’s recommendations and finally review and submit the manuscript. Being a student, you may find it difficult to recommend the reviewers yourself. I would suggest that consult your instructor, lab in charge, or supervisor for this purpose, they can better assign the reviewers (as per the institution’s policies). However, it is not compulsory that the editor will consider your suggested reviewers, these criteria vary from journal to journal.
<!--more-->
The journal editor will send you a submission confirmation email, shortly after you submit the article. The editor evaluates your paper based on specific criteria (such as the novelty of work, methodology, results, statistics, figure quality, formatting, etc.). The submission then passed on to reviewers (two or three reviewers) and you will be notified by an email once your paper considered for review. The reviewers responded back to editors by giving their positive or negative remarks and all these evaluations together contribute to making the final decision on your manuscript. The whole procedure may take 2-3 months or more. It depends on the different strategies of each journal/publishing group.]]></content><author><name>M. Shamshad</name><email>shamshad.rattan@gmail.com</email></author><category term="scientific" /><category term="writing" /><category term="Research Journal" /><category term="Rough Draft" /><category term="Cover letter" /><summary type="html"><![CDATA[There exist some definite gaps “from performing of an experiment to the formulation of a hypothesis”. It is not necessary that a person good at lab work must be an expert in scientific writing too.]]></summary></entry><entry><title type="html">Add non-whitelisted plugins and Mermaid</title><link href="https://shamshad.in/posts/2020/08/non-whitelisted-plugin-Mermaid/" rel="alternate" type="text/html" title="Add non-whitelisted plugins and Mermaid" /><published>2020-08-20T00:00:00+05:30</published><updated>2024-10-07T21:54:44+05:30</updated><id>https://shamshad.in/posts/2020/08/Non-whitelisted-plugin-Mermaid</id><content type="html" xml:base="https://shamshad.in/posts/2020/08/non-whitelisted-plugin-Mermaid/"><![CDATA[GitHub Pages runs in `safe` mode and only allows [a set of whitelisted plugins](https://pages.github.com/versions/). To use the gem in GitHub Pages, one of the workarounds is to use CI (e.g. travis, github workflow) and deploy to your `gh-pages` branch like: [jekyll-deploy-action](https://github.com/jeffreytse/jekyll-deploy-action), and I use this plugin: [jekyll-spaceship](https://github.com/jeffreytse/jekyll-spaceship) in my github pages.
<!--more-->
## Using mermaid in github pages

Above `jekyll-spaceship` plugin can render the mermaid code but not very well as described [here](https://github.com/jeffreytse/jekyll-spaceship/issues/60).

Currently, there're two better solutions by using the [mermaid javascript API](https://mermaid-js.github.io/mermaid/#/n00b-gettingStarted?id=_3-calling-the-javascript-api).

The **first solution** is to use the mermaid API directly, it's inspired by this [post](https://jojozhuang.github.io/tutorial/jekyll-diagram-with-mermaid/). You can refer to this [commit](https://github.com/copdips/copdips.github.io/commit/6e9fde29abff7691ccfd7b7b0ad7158651931ed5) to see how to use it. The steps are as follows:

1. create a file `mermaid.html` inside the folder `_includes`. The file content could be found on the [mermaid js official website](https://mermaid-js.github.io/mermaid/#/n00b-gettingStarted?id=_3-calling-the-javascript-api).
2. update the file `_includes/head.html` to include the new file `mermaid.html` with or without the condition on the var `page.mermaid`
3. in post where we need to render the mermaid diagrams, just put the code in side a html pre block by set the class to `mermaid` like: `<pre class="mermaid"></pre>`. If the step 2 has set a condition on the var `page.mermaid`, you need to also add a variable named `mermaid` and set its value to `true` in the post header.

The **seconde solution** is to install the gem plugin [jekyll-mermaid](https://github.com/jasonbellamy/jekyll-mermaid) where the underlying implementation uses the mermaid API too, This is what I'm using as per this [commit](https://github.com/shamshadM/shamshadM.github.io/) it's a little bitter easier than the first solution.

<hr>

# Use of Mermaid to draw different Types of diagram
<hr>

## Flowchart

All Flowcharts are composed of nodes, the geometric shapes and edges, the arrows or lines. The mermaid code defines the way that these nodes and edges are made and interact.

It can also accommodate different arrow types, multi directional arrows, and linking to and from subgraphs.

<pre class="mermaid">
graph TD;
    A-->B;
    A-->C;
    B-->D;
    C-->D;
</pre>

> Another class of flow diagram
<pre class="mermaid">
flowchart TD
    A[Eid / Christmas / Dewali] -->|Get money| B(Go shopping)
    B --> C{Let me think}
    C -->|One| D[Laptop]
    C -->|Two| E[iPhone]
    C -->|Three| F[fa:fa-car Car]
</pre >

## Pie chart Diagrams
A pie chart (or a circle chart) is a circular statistical graphic, which is preided into slices to illustrate numerical proportion. In a pie chart, the arc length of each slice (and consequently its central angle and area), is proportional to the quantity it represents. While it is named for its resemblance to a pie which has been sliced, there are variations on the way it can be presented. The earliest known pie chart is generally credited to William Playfair's Statistical Breviary of 1801 -Wikipedia

<pre class="mermaid" >
pie
    title Key elements in Product X
    "Calcium" : 42.96
    "Potassium" : 50.05
    "Magnesium" : 10.01
    "Iron" :  5
</pre >

## Sequence Diagram
A sequence diagram or system sequence diagram (SSD) shows process interactions arranged in time sequence in the field of software engineering. It depicts the processes involved and the sequence of messages exchanged between the processes needed to carry out the functionality. Sequence diagrams are typically associated with use case realizations in the 4+1 architectural view model of the system under development. Sequence diagrams are sometimes called event diagrams or event scenarios.

<pre class="mermaid" >
sequenceDiagram
      participant Alice
      participant Bob
      Alice->>John: Hello John, how are you?
      loop Healthcheck
      John->>John: Fight against hypochondria
      end
      Note right of John: Rational thoughts <br/>prevail!
      John-->>Alice: Great!
      John->>Bob: How about you?
      Bob-->>John: Jolly good!
</pre >

## Gantt Diagram 
 
 A Gantt chart is a type of bar chart that illustrates a project schedule. This chart lists the tasks to be performed on the vertical axis, and time intervals on the horizontal axis. The width of the horizontal bars in the graph shows the duration of each activity. Gantt charts illustrate the start and finish dates of the terminal elements and summary elements of a project. Terminal elements and summary elements constitute the work breakdown structure of the project. Modern Gantt charts also show the dependency (i.e., precedence network) relationships between activities. Gantt charts can be used to show current schedule status using percent-complete shadings and a vertical "TODAY" line.

 <pre class="mermaid" >
gantt
    title A Gantt Diagram
    dateFormat  YYYY-MM-DD
    section Section
    First Task       :a1, 2018-07-01, 30d
    Another Task     :after a1, 20d
    section Another;
    Second Task      :2018-07-12, 12d
    Third Task       : 24d
</pre >

## Class Diagram 
In software engineering, a <b>class diagram</b> in the Unified Modeling Language (UML) is a type of static structure diagram that describes the structure of a system by showing the system's classes, their attributes, operations (or methods), and the relationships among objects.

The class diagram is the main building block of object-oriented modeling. It is used for general conceptual modeling of the structure of the application, and for detailed modeling, translating the models into programming code. Class diagrams can also be used for data modeling. The classes in a class diagram represent both the main elements, interactions in the application, and the classes to be programmed.

<pre class="mermaid" >
classDiagram
    Class01 <|-- AveryLongClass : Cool
    Class03 *-- Class04
    Class05 o-- Class06
    Class07 .. Class08
    Class09 --> C2 : Where am i?
    Class09 --* C3
    Class09 --|> Class07
    Class07 : equals()
    Class07 : Object[] elementData
    Class01 : size()
    Class01 : int chimp
    Class01 : int gorilla
    Class08 <--> C2: Cool label
</pre>

## Git Graph
The collection of all commits in a repository forms what in mathematics is called a graph: visually, a set of objects with lines drawn between some pairs of them. In Git, the lines represent the commit parent relationship previously explained, and this structure is called the “commit graph” of the repository

<pre class="mermaid">
gitGraph
    commit
    commit
    branch develop
    checkout develop
    commit
    commit
    checkout main
    merge develop
    commit
    commit
</pre>

## State Diagram
A state diagram is a type of diagram used in computer science and related fields to describe the behavior of systems. State diagrams require that the system described is composed of a finite number of states; sometimes, this is indeed the case, while at other times this is a reasonable abstraction. Many forms of state diagrams exist, which differ slightly and have different semantics.

 <pre class="mermaid">
stateDiagram-v2
    [*] --> Still
    Still --> [*]
    Still --> Moving
    Moving --> Still
    Moving --> Crash
    Crash --> [*]
  </pre>

## Mindmap
A mind map is a diagram used to visually organize information into a hierarchy, showing relationships among pieces of the whole. It is often created around a single concept, drawn as an image in the center of a blank page, to which associated representations of ideas such as images, words and parts of words are added. Major ideas are connected directly to the central concept, and other ideas branch out from those major ideas.

 <pre class="mermaid">
 mindmap
  root((mindmap))
    Origins
      Long history
      ::icon(fa fa-book)
      Popularization
        British popular psychology author Tony Buzan
    Research
      On effectiveness<br/>and features
      On Automatic creation
        Uses
            Creative techniques
            Strategic planning
            Argument mapping
    Tools
      Pen and paper
      Mermaid
 </pre>
## ER Diagram 
An entity–relationship model (or ER model) describes interrelated things of interest in a specific domain of knowledge. A basic ER model is composed of entity types (which classify the things of interest) and specifies relationships that can exist between entities (instances of those entity types). Wikipedia.

 <pre class="mermaid">
 erDiagram
          CUSTOMER }|..|{ DELIVERY-ADDRESS : has
          CUSTOMER ||--o{ ORDER : places
          CUSTOMER ||--o{ INVOICE : "liable for"
          DELIVERY-ADDRESS ||--o{ ORDER : receives
          INVOICE ||--|{ ORDER : covers
          ORDER ||--|{ ORDER-ITEM : includes
          PRODUCT-CATEGORY ||--|{ PRODUCT : contains
          PRODUCT ||--o{ ORDER-ITEM : "ordered in"
 </pre>

Mermaid is the best packages to draw the graphs, flowcharts, tables etc. You can find more about the mermaid on [Mermaid](https://mermaid-js.github.io/mermaid/#/)
happy to see plugin mermaid :+1:!]]></content><author><name>M. Shamshad</name><email>shamshad.rattan@gmail.com</email></author><category term="CI" /><category term="mermaid" /><category term="Mermaid" /><category term="graph" /><category term="non-whitelisted plugins" /><summary type="html"><![CDATA[GitHub Pages runs in safe mode and only allows a set of whitelisted plugins. To use the gem in GitHub Pages, one of the workarounds is to use CI (e.g. travis, github workflow) and deploy to your gh-pages branch like: jekyll-deploy-action, and I use this plugin: jekyll-spaceship in my github pages.]]></summary></entry><entry><title type="html">Adding Content to an Academic Website</title><link href="https://shamshad.in/posts/2020/08/website-content/" rel="alternate" type="text/html" title="Adding Content to an Academic Website" /><published>2020-08-07T00:00:00+05:30</published><updated>2024-10-09T21:30:54+05:30</updated><id>https://shamshad.in/posts/2020/08/website-content</id><content type="html" xml:base="https://shamshad.in/posts/2020/08/website-content/"><![CDATA[One thing I haven't covered in my previous posts on [creating]({{ site.baseurl }}{% post_url 2020-06-30-academic-website %}) and [customizing]({{ site.baseurl }}{% post_url 2020-07-6-customizing-website %}) an academic website is how to actually add content to your site. You know, the stuff that's the reason why people go to your website in the first place? If you've followed those guides, your website should be professional looking and already feeling a little bit different from the stock template. However, adding new pages or tweaking the existing pages can be a little intimidating, and I realized I should probably walk through how to do so. Luckily Jekyll's use of Markdown makes it really easy to add new content!

<!--more-->

## Content

Editing the welcome page for your site (`_pages/about.md`) is relatively straightforward. Things get a little trickier if you want to build an entirely new page to your website. You'll notice that I have a [software](/software) page on my site that isn't part of the [academicpages](https://academicpages.github.io/) template. I'll use that page as a running example to walk you through adding a new page to your site.

## First steps

First things first, we need to create a file for the page itself. The main pages for your website are generated from [Markdown](https://en.wikipedia.org/wiki/Markdown) files contained in the `_pages` directory. Create a new file called `software.md` in `_pages`. Now, open it up in RStudio or your text editor of choice. If you've looked at the `.md` files for other pages, you'll notice that they all start with a similar block of text. This is a [YAML](https://en.wikipedia.org/wiki/YAML) header that tells Jekyll the basic information needed to build the page. There are lots of different options you can include, but the only two you really need are the `permalink` for the page and its `title`. Add the following to the top of `software.md`:

```yaml
---
permalink: /software/
title: "Software"
---
```

Anything after that second line of dashes will be translated into actual content on the page.

## Fill it out

Now we need to make our new page actually say something. My software page lists the R packages I've contributed to and includes links to miscellaneous other bits of code like functions for working with video data in Python or the LaTeX template I used for my dissertation. You can check out the `.md` source file for my software page on my [GitHub](https://raw.githubusercontent.com/jayrobwilliams/jayrobwilliams.github.io/master/_pages/software.md).

A couple of things to notice:

- You can create headings using pound signs
  - More pound signs produce smaller headings
- You can create links using standard Markdown syntax, e.g., `[link text](url)`
  - If you're linking to a page generated from a source `.md` file in `_pages`, just put a slash before the page name and don't include any extension, e.g., `[software](/software)`
- You can embed images by adding an exclamation point before the opening `[` in Markdown link syntax, e.g., `![](/images/profile.png)`
- You can create code blocks like the ones on this page by enclosing text in triple backticks
  - Put the name of the programming language after the opening backticks to activate [syntax highlighting](https://en.wikipedia.org/wiki/Syntax_highlighting)
- You can also embed raw HTML directly like I used to include three images next to one another

These tools should be sufficient to let you build an awesome new page for your website. However, letting visitors actually get to your new page requires a little more work.

## You can't get there from here

If you want to just add a link to your new page from an existing page, like the homepage, that's easy and can be accomplished by adding a link to the Markdown source in `_pages/about.md`. That's how I added my [teaching materials](/teaching-materials) page; it's just a link on my [teaching](/teaching) page. But what about if you want your new page to be easily accessed from the fancy navigation bar at the top of the site?

To do that, we'll need to edit the files Jekyll uses to control navigation on the site. Open up `_data/navigation.yml` and get ready to add our new page to the to menu. This is what it looks like in the template:

```yaml
# main links links
main:
  - title: "Publications"
    url: /publications/

  - title: "Talks"
    url: /talks/    

  - title: "Teaching"
    url: /teaching/    
    
  - title: "Portfolio"
    url: /portfolio/
        
  - title: "Blog Posts"
    url: /year-archive/
    
  - title: "CV"
    url: /cv/
    
  - title: "Guide"
    url: /markdown/
```

The order that items appear in top-to-bottom in this file is also the order they'll appear in left-to-right in the navigation bar. So decide where you want your new page to go, and slot it in. This is what `_data/navigation.yml` looks like for my website:

```yaml
# main links links
main:
  - title: "Publications"
    url: /publications/
    
  - title: "Research"
    url: /research/

  - title: "Teaching"
    url: /teaching/

  - title: "Software"
    url: /software/

  - title: "Posts"
    url: /posts/
    
  - title: "CV"
    url: /cv/
```

Again, you can check out the current version of this file for my site at my [GitHub](https://github.com/jayrobwilliams/jayrobwilliams.github.io/blob/master/_data/navigation.yml) if you want. If I've changed anything in the navigation menu since I wrote this post, those changes will be reflected there.

You'll also notice that the Guide link is no longer there in my `_data/navigation.yml`. Removing elements from this file drops them from the navigation menu, so if there are any other pages in the template you don't plan to use, go ahead and remove them now.

Once you're happy with your new page, it's time to tell git about them, and then upload them to GitHub. You can do this with

```bash
git add _pages/software.md _data/navigation.yml
git commit -m "add software page"
git push
```
{: .no-copy}

If you followed the guide on [uploading changes to GitHub]({{ site.baseurl }}{% post_url 2020-06-30-academic-website %}#uploading-changes-to-github) in my post on [making an academic website]({{ site.baseurl }}{% post_url 2020-06-30-academic-website %}), all of the above code should run smoothly and in a few minutes you'll have a new page on your website.

# Uploading files

One of the advantages of using GitHub pages to host your website is that you don't have to use Dropbox to host PDFs of your working papers and published articles, not to mention your CV. If you use Wix or WordPress, you may have to upload your files to Dropbox, and then link to them on your site. This process has three major downsides:

1. You have to update your website in two places to add or update a PDF
2. Google Scholar will ignore Dropbox links, so you won't get a record of your scholarship online
3. If someone clicks a Dropbox while viewing your site on their phone or tablet, it may take them to the Dropbox app or pop up a message about the app not being installed

All of these are less than ideal. Luckily, GitHub Pages has the capability to address all three already built in. When you make an update to your website and `git push` it to GitHub, *all* tracked files get uploaded with it. This means it's super easy to upload your PDFs to your site and link directly to them. I'll walk through how to do this with an example PDF called `working-paper.pdf`.

First, copy the PDF into the `files/pdf` directory in your site's directory. Next we need to tell git about this file, which we do with

```bash
git add files/pdf/working-paper.pdf
git commit -m "add working paper"
git push
```

Don't forget to add a link to the paper somewhere on your research page so that visitors can access it. Here's an example of what that link might look like: `[Working Paper](/files/pdf/working-paper.pdf)`. And if you want to use the [fancy button]({{ site.baseurl }}{% post_url 2020-07-6-customizing-website %}#pushing-buttons) from my post on [customizing your site]({{ site.baseurl }}{% post_url 2020-07-6-customizing-website %}), you would do this: `[Working Paper](/files/pdf/working-paper.pdf){: .btn--research}`.

# Designing for mobile
 
One of the advantages of the [academicpages](https://academicpages.github.io/) template is that it is [responsive](https://en.wikipedia.org/wiki/Responsive_web_design), meaning that layouts change automatically with screen size to present content in the most efficient manner. Take a look at my website on your phone to see how a smaller device changes the site's layout. When you're editing your website, it's a good idea to periodically check how it appears on a phone, as it's likely that a number of visitors to your site will view it on their phones.[^1]

To do so, you can use tools like Chrome's [device mode](https://developers.google.com/web/tools/chrome-devtools/device-mode), but this can be annoying and doesn't perfectly capture the experience of navigating your site on a small touchscreen. The best way to do that is, unsurprisingly, to use your actual phone. However, this requires a slight tweak to our usual `bundle exec jekyll serve` command. We need to add a `--host` argument to the command, where the value of the argument is our computer's IP address. There are many ways to look this up, but here are two quick ones you can execute from the terminal:

- On MacOS: `ifconfig en0 | grep inet | grep -v inet6 | awk '{print $2}'`
- On Linux: `hostname -I`

What each of these will do is capture the *local* IP address of the computer. Often this will be something like `192.168.1.x` or `10.0.0.x`. This won't let you access the site from outside your network over the internet, but it *will* let you access it locally on your own network. Once you've found your local IP address, you can serve your site on your local network, letting you view it on your phone or tablet. For example, my IP address is `192.168.1.6`, so putting it all together I get:

```bash
bundle exec jekyll serve --host 192.168.1.6
```

This is quite a lot to type, and your computer's local IP address can change occasionally, so you can't just keep putting in the same IP address each time. To save yourself some time by creating an [alias](https://en.wikipedia.org/wiki/Alias_(command)) for the command. An alias is simply a way to refer to a longer command with a shorter label. To do this, you'll need to edit your `.bash_profile` configuration file.[^2] The easiest way to do this is to run

```bash
nano ~/.bash_profile
```

This will open up your `.bash_profile` in [nano](https://en.wikipedia.org/wiki/GNU_nano), a simple text editor.[^3] I've decided to call my aliased command `serve-site`, but you could call it anything you want. Scroll down to the end of the file and add either

```bash
alias serve-site="bundle exec jekyll serve --host=$(ifconfig en0 | grep inet | grep -v inet6 | awk '{print $2}')"
```

for MacOS or

```bash
alias serve-site="bundle exec jekyll serve --host=$(hostname -I)"
```

for Linux. Once you've added this line, save the file by pressing <kbd>ctrl</kbd>+<kbd>o</kbd> and then <kbd>enter</kbd> to use the existing filename, overwriting the old version of `.bash_profile`. Then press <kbd>ctrl</kbd>+<kbd>x</kbd> to close nano. The last step is to tell your terminal about this new alias. You can accomplish this with

```bash
source ~/.bash_profile
```

regardless of whether you're on Linux or MacOS. Now whenever you want to check out your website on a mobile device, you can just navigate to your website's directory and use the new `serve-site` alias to launch it locally.

## Windows

If you're trying to figure out how to do this on Windows, I haven't forgotten about you, I just have no idea how to do this on Windows ¯\\\_(ツ)\_/¯. My recommendation would be to do a lot of googling, or to install the [Windows Subsystem for Linux](https://en.wikipedia.org/wiki/Windows_Subsystem_for_Linux), which will allow you to use a bash shell to interact with your files.

[^1]: As a senior faculty member once pointed out to me, the search committee member who didn't fully read your application is most likely to pull up your website on their phone during a committee meeting.

[^2]: I'm assuming that you're using bash as your shell. If you're using a different shell, see [this list](https://kb.iu.edu/d/abdy) for which configuration files you should be editing. Other shells may also define aliases in different ways.

[^3]: Feel free to use a different editor or use the `edit` command if you've set the default editor to your preferred editor.]]></content><author><name>M. Shamshad</name><email>shamshad.rattan@gmail.com</email></author><category term="website" /><category term="website" /><category term="git" /><category term="github" /><category term="bash" /><summary type="html"><![CDATA[One thing I haven’t covered in my previous posts on creating and customizing an academic website is how to actually add content to your site. You know, the stuff that’s the reason why people go to your website in the first place? If you’ve followed those guides, your website should be professional looking and already feeling a little bit different from the stock template. However, adding new pages or tweaking the existing pages can be a little intimidating, and I realized I should probably walk through how to do so. Luckily Jekyll’s use of Markdown makes it really easy to add new content!]]></summary></entry><entry><title type="html">Customizing an Academic Website</title><link href="https://shamshad.in/posts/2020/07/customizing-website/" rel="alternate" type="text/html" title="Customizing an Academic Website" /><published>2020-07-06T00:00:00+05:30</published><updated>2024-10-06T20:53:46+05:30</updated><id>https://shamshad.in/posts/2020/07/customizing-website</id><content type="html" xml:base="https://shamshad.in/posts/2020/07/customizing-website/"><![CDATA[This is a followup to my previous post on [creating an academic website]({{ site.baseurl }}{% post_url 2020-06-30-academic-website %}). If you've followed that guide, you should have a website that's professional-looking and informative, but it's probably lacking *something* to really make it feel like your own. There are an infinite number of ways you could customize the [academicpages template](https://academicpages.github.io/) (many of them far, far beyond my abilities) but I'm going to walk you through the process I used to start tweaking my website. The goal here isn't to tell you how you should personalize your website, but to give you the tools to learn how to implement whatever changes you want to make.

<!--more-->

You'll notice that the differences between my website and the template aren't limited to my mug in the sidebar on the left. These differences are especially apparent if you compare my [publications](https://jayrobwilliams.com/publications/) page with the [template's](https://academicpages.github.io/publications/). You'll notice on my page that article titles no longer link to separate pages and I've got fancy icons like <i class="fas fa-fw fa-file-pdf" aria-hidden="true"></i> to link to my PDF copy and <i class="fa fa-fw fa-link" aria-hidden="true"></i> to link to the version of record.

I've made several minor changes from the template to make my website feel a bit more like my own. These tweaks are varyingly difficult to accomplish, but they all involve a bit of trial and error. While academicpages is a great template, the accompanying documentation isn't *particularly* useful if you want to make any changes that go beyond content into formatting. Thus, each new tweak I implement begins with something of a scavenger hunt.

Essentially, you need to track down where in the source code of your website a variable is originally defined, and then edit it there. Luckily, RStudio makes this relative straightforward with its Find in Files function. You can access this special search from the Edit menu, or by pressing <kbd>Cmd</kbd>+<kbd>Shift</kbd>+<kbd>c</kbd> on MacOS or <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>c</kbd> otherwise. Once you've brought up the Find in Files dialog, enter the name of the variable you're looking for in the 'Find' box and your website's directory in the 'Search in' box (for me that's `~/Dropbox/Website`).

# Easier on the eyes

One thing I don't like about the template's settings out of the box is the font size in highlighted code blocks. It's way too small! While small the small font size makes it more likely that an entire line of code will fit on a screen without having to scroll, how useful is that if you have to squint to see what's there?

My first order of business in customizing my site was thus to increase the font size used in code blocks. I know that code highlighting functions are often referred to as syntax highlighters. Using this knowledge, I searched for "syntax" using the Find in Files dialog as seen below:

![](/images/posts/customizing-website/findin-syntax.png){:width="50%" .align-center}

The most relevant hit is a file called `_sass/syntax.scss`. The `_sass` directory is where you'll find lots of options to change the appearance of your site since it contains the [CSS](https://en.wikipedia.org/wiki/Cascading_Style_Sheets) code that determines much of how your site looks. If you scroll through `_sass/syntax.scss`, this chunk of code controls how text is rendered in code boxes:

```shell
.highlight {
  margin: 0;
  font-family: $monospace;
  font-size: $type-size-7;
  line-height: 1.8;
}
```

We've found our next clue! We need to figure out where `$type-size-7` is defined. If you do a Find in Files search for that, you'll learn it's in `_sass/variables.scss`. Open that file and <kbd>Cmd</kbd>+<kbd>f</kbd> (<kbd>Ctrl</kbd>+<kbd>f</kbd> not on a Mac) for `$type-size-7`, and you'll find this chunk of code:

```scss
/* type scale */
$type-size-1                : 2.441em;  // ~39.056px
$type-size-2                : 1.953em;  // ~31.248px
$type-size-3                : 1.563em;  // ~25.008px
$type-size-4                : 1.25em;   // ~20px
$type-size-5                : 1em;      // ~16px
$type-size-6                : 0.75em;   // ~12px
$type-size-7                : 0.6875em; // ~11px
$type-size-8                : 0.625em;  // ~10px
```

Here's where font sizes are defined for the *entire* website! Luckily the code is well-commented, so we know that `$type-size-7` used in code blocks $\approx$ 11 pixels high. I first tried setting it to `$type-size-5`, but that was too big for my tastes. Alas `$type-size-6` was too small, and so I resolved to make my own.

The font sizes are defined in [ems](https://en.wikipedia.org/wiki/Em_(typography)) (a unit of typography you're no doubt familiar with if you've also spent too much time mucking about with LaTeX) so it's easy to create a new one. `$type-size-6` is 0.75 ems and `$type-size-5` is 1 em, so to find the exact middle of them we can do

```r
(1 + .75) / 2
```

    ## [1] 0.875

Now all we have to do is define our new font size in `_sass/variables.scss`

```scss
$type-size-syntax           : 0.875em;  // ~14px
```

and tell the site to use it in `_sass/syntax.scss`

```scss
.highlight {
  margin: 0;
  font-family: $monospace;
  font-size: $type-size-syntax;
  line-height: 1.8;
}
```

Save all these changes, restart your local webserver with `bundle exec jekyll serve` (or wait for it to rebuild and reload if it was already running) and check out the changes. If everything went smoothly, you should have larger and easier to read text in any code blocks on your website.

# Fixing fancy icons

While you're messing around in `_sass/syntax.scss`, there's another easy fix that I highly recommend doing. The version of the template at the time I'm writing this has a small error in this file that prevents code boxes from rendering properly. You may be wondering why code boxes have a small square in the top right corner of them; I know I was. Take a look below for an example of this from my [software](/software) page:

![](/images/posts/customizing-website/box.png)

It turns out there's supposed to be a little 'code' icon there, like this <i class="fa fa-code" aria-hidden="true"></i>. I did some digging on Stack Overflow, and found [this answer](https://stackoverflow.com/a/20782415/), which told me that there's an error with how `_sass/syntax.scss` references the [Font Awesome](https://fontawesome.com/) library the icon comes from.

```scss
&:before {
  position: absolute;
  top: 0;
  right: 0;
  padding: 0.5em;
  background-color: $lighter-gray;
  content: "\f121";
  font-family: "fontawesome" !important;
  font-size: $type-size-6;
  line-height: 1;
  text-transform: none;
  speak: none;
}
```

The `font-family` line should be `font-family: "Font Awesome 5 Free" !important;`. Once you've made this change, the icon should show up.

![](/images/posts/customizing-website/icon.png)

I've submitted a [pull request](https://github.com/academicpages/academicpages.github.io/pull/389) fixing the issue, so if you're reading this in the future hopefully it's been fixed in the template and you have no idea what I'm talking about.

# Adding some color

While we're in `_sass/variables.scss`, there are a couple of other easy changes we can make. I never particularly liked the light blue that the template uses for links. There's a section in `_sass/variables.scss` that controls what color links appear as.

```scss
/* links */
$link-color                 : $info-color;
$link-color-hover           : mix(#000, $link-color, 25%);
$link-color-visited         : mix(#fff, $link-color, 25%);
$masthead-link-color        : $primary-color;
$masthead-link-color-hover  : mix(#000, $primary-color, 25%);
```

Looking at this code, we can see that `$link-color` is defined as the same as `$info-color`. Further up, this is defined as

```scss
$info-color                 : #52adc8;
```

You'll notice that `$info-color` is defined with an alphanumeric string and not in a more familiar format like RGB. That's because it's a web color in [hexadecimal format](https://en.wikipedia.org/wiki/Web_colors). If you Google search [color picker](https://www.google.com/search?q=color+picker) you'll find a handy little applet where you can preview different hex colors or even convert from RGB to hex representation. Since I am a postdoc, I decided to just use my institution's colors. If you change `$info-color` to any other color it will change the color of links across your website. Remember to wait for your webserver to reload the changes, otherwise you won't be able to see them

# Pushing buttons

The pages where I present my research highlight one of the other big changes I've made to my site. The buttons I use to link to papers and replication archives (see [here](/research/measurement/#article) for an example) are not part of the template. I'd originally just used text links here, and thought using some buttons instead might liven up the page a bit. Unfortunately, the default buttons defined in the Academicpages template don't fit super well given the other changes I've made.

The default button looks like [this ](#Buttons){: .btn}, which is fine, but doesn't fit with a more colorful custom theme. My new themed button looks like [this](#Buttons){: .btn--research}, which fits a little better and has less space around it.[^1]

While both buttons have a nice hover effect where they change color to let you know you're over them, the second one incorporates the site's accent color and is a bit more dynamic since the text changes color in addition to the background. Like most things CSS, buttons are defined in the `_sass` directory in `_sass/buttons.scss`. 

There are lots of existing button types defined here, but we want to create our own. You can edit the default button styling in `_sass/buttons.scss`. If we redefine the existing base button class, we can end up with all kinds of weird side effects for other elements of the site, like the social media share buttons at the bottom of this post. To do this, we'll define a new button *subclass*, which inherits the aspects of a button on the site but only uses the special behavior when we explicitly tell a button to do so.

After some time poking around the [W3Schools](https://www.w3schools.com) page on [buttons](https://www.w3schools.com/css/css3_buttons.asp), and a lot of trial and error, I came up with the following CSS code:

```scss
/* research page buttons */
&--research {
  display: inline-block;
  margin-bottom: 0.25em;
  padding: 0.125em 0.25em;
  color: $link-color;
  text-align: center;
  text-decoration: none !important;
  border: 1px solid;
  border-color: $link-color;
  border-radius: $border-radius;
  cursor: pointer;

  &:hover {
    color: #fff;
    background-color: $link-color !important;
  }
```

The key parts are

- `color: $link-color;`: use the site accent color for the text
- `text-decoration: none !important;`: don't underline the button text
- `border: 1px solid;`: draw a one pixel border around the button
- `border-color: $link-color;`: use the site accent color for the border
- `border-radius: $border-radius;`: use a four pixel radius for the border (`$border-radius` is defined in `_sass/variables.scss`)

To add a button to a page, you simply tack on `{: .btn--research}` after a link, like so

```md
[this](#Buttons){: .btn--research}
```

# Going forward

This is just a brief overview of the ways you can tweak your website from the base provided by the template. Let Google and Stack Overflow be your guides. There will be some trial and error, but the beauty of git is that even if you break something it's easy to roll back to changes to when everything was working.

![](/images/posts/customizing-website/so.jpeg){:width="50%" .align-center}

[^1]: You'll notice that this button is *very* similar to the ones that the [Hugo Academic theme](https://academic-demo.netlify.app/#publications) uses. Just because I don't like the theme as a whole doesn't mean there aren't really elegant parts of it.]]></content><author><name>M. Shamshad</name><email>shamshad.rattan@gmail.com</email></author><category term="website" /><category term="website" /><category term="git" /><category term="github" /><summary type="html"><![CDATA[This is a followup to my previous post on creating an academic website. If you’ve followed that guide, you should have a website that’s professional-looking and informative, but it’s probably lacking something to really make it feel like your own. There are an infinite number of ways you could customize the academicpages template (many of them far, far beyond my abilities) but I’m going to walk you through the process I used to start tweaking my website. The goal here isn’t to tell you how you should personalize your website, but to give you the tools to learn how to implement whatever changes you want to make.]]></summary></entry><entry><title type="html">Building an Academic Website</title><link href="https://shamshad.in/posts/2020/06/academic-website/" rel="alternate" type="text/html" title="Building an Academic Website" /><published>2020-06-30T00:00:00+05:30</published><updated>2024-10-09T21:55:02+05:30</updated><id>https://shamshad.in/posts/2020/06/academic-website</id><content type="html" xml:base="https://shamshad.in/posts/2020/06/academic-website/"><![CDATA[If you're an academic, you need a website. Obviously I agree with this since you're reading this on my website, but if you don't have one, you should get one. Most universities these days provide a free option, usually powered by [WordPress](https://wordpress.org/) (both [WashU](https://sites.wustl.edu/) and [UNC](https://web.unc.edu/) use WordPress for their respective offerings). While these sites are quick to set up and come with the prestige of a `.edu` URL, they have several drawbacks that have been [extensively](https://townsendcenter.berkeley.edu/blog/personal-academic-webpages-how-tos-and-tips-better-site) [written](https://martinlea.com/four-reasons-why-faculty-profile-pages-are-no-substitute-for-personal-academic-website/) [on](https://theacademicdesigner.com/2019/personal-academic-website-benefits/).
<!--more-->
If you're a junior scholar, having your own personal webpage is even more important:
- If (when) you move institutions, you'll lose your website
- Even if you can export the contents of a WordPress site, there's no guarantee it will seamlessly integrate with another university's implementation
- Even worse, you'll lose your search engine ranking since you'll be starting over from square one with a new URL

Even if you stay at the same institution for the rest of your career, you're at the mercy of IT and your site may be taken down by a change to the hosting platform at some point in the future.

# My approach

There are plenty of guides out there on how to create a personal website using tools like WordPress, [Wix](https://www.wix.com), or [Google Sites](https://www.sites.google.com/). The free versions of these tools often come with ads, or at the least a message telling you which tool was used to create the website. I take a different approach that requires some (minimal) coding experience, but produces a beautiful and professional website that is ad free. I use a [static site generator](https://www.staticgen.com/about) that produces HTML from easy to edit [Markdown](https://en.wikipedia.org/wiki/Markdown) files. Because the resulting site is static (it's just a collection of files with no interactivity where users can .e.g, fill out and submit forms) it can be hosted for free with [GitHub Pages](https://pages.github.com/). [Steven Miller](https://svmiller.com) has a nice rundown on all of the [advantages](https://svmiller.com/blog/2015/08/create-your-website-in-jekyll/#advantages) of this approach.

## Who this guide is for

This guide is intended for someone with a basic level of coding experience and comfort with Markdown files. Anyone who's received graduate training in quantitative social science in the past few years should have all the necessary skills. I'm assuming some familiarity with using the [terminal](https://en.wikipedia.org/wiki/Terminal_emulator), but no experience with Git or GitHub is needed.

There are other guides to using static site generators to make academic websites, but they all assume a very high level of experience with the required tools and the ability to conduct extensive troubleshooting on your own. The template I use contains a 6 point checklist with no illustrations or examples. I've written this guide for people who have some experience coding, but don't want to spend an afternoon learning two new languages on their own. If you know how to use R Markdown you have all the skills you need to build a website.

## Conventions

In this tutorial, I use a couple of conventions to describe computer code and the actions you'll do with it. Anytime you see content between two angle brackets, you should replace the content with the appropriate version for yourself. For example, \<yourusername\> would become jayrobwilliams for me, because that is my GitHub username. You'll also frequently see 

```
highlighted code blocks like this
```
{: .no-copy}

with this icon <i class="fa fa-code" aria-hidden="true"></i> in the top right corner. These can denote either code you should enter and run, or the output of running a command. I will clearly state which of these options applies in any given case. Sometimes you will also see `inline code` like this, and again I'll note whether these represent code you should run, or the output of code.

> A brief aside on Git-speak: these periodic indented blocks will explain the terminology that Git uses to help you understand what each Git command actually does.

# Getting started

Two of the most popular programs available for building static sites from Markdown files are [Jekyll](https://jekyllrb.com/) and [Hugo](https://gohugo.io/). Relevant for us is that each one has a full-featured theme for academic websites that you've probably seen before. There are plenty of differences under the hood, but the most important one for building an academic website is that Hugo integrates nicely with the [`blogdown`](https://bookdown.org/yihui/blogdown/) R package, letting you write your website entirely in R. I chose Jekyll over Hugo because I liked the [Jekyll theme](https://academicpages.github.io/) better than the [Hugo one](https://academic-demo.netlify.app/). My life might have been easier if I'd gone with Hugo and `blogdown`, but here we are. Consequently, this tutorial will show you how to set up an academic website using Jekyll.

## GitHub

The first thing you need to do is create a GitHub account if you don't already have one. If you do have one, great! If you don't already have an account, think about your username carefully. Unless you set up a custom domain name (which we'll cover in a separate post), your website's URL will be \<yourusername\>.github.io. Setting up a custom domain name is a little trick and isn't free, so pick a username that works as a URL as well.

> Git-speak aside: the basic unit of GitHub is the *repository*. Repositories are just folders (directories, if you want to be pedantic), but Git keeps a record of the files in the folders. We'll start by making a repository on GitHub and then later download that repository to our computer. In both cases, it's just a folder. The magic of Git is that we can link the two so that changes you make in your local repository (the one on your computer) will sync with the remote repository (the one on GitHub). When people (myself included) get lazy, they'll often shorten repository to 'repo'.

Once you've logged into GitHub, the next step is to head over to the [repository](https://github.com/academicpages/academicpages.github.io) for the template we'll be using. We need to copy the template so we can get our own version that we can mess around with. In GitHub parlance we need to *fork* the template repository to get our own copy. Find the Fork button at the top right of the template repository (highlighted in green below), and click it.[^1]

![](/images/posts/creating-website/fork.png)

After a brief wait (and an amusing GIF), you'll land at your forked copy of the repo. If you look closely, you'll notice that the name in the top left has changed. Where it originally said "academicpages/academicpages.github.io" it should now read "\<yourusername\>/academicpages.github.io". As you can see below, for me this is now "jayrobwilliams/academicpages.github.io". We need to change this! Not just so people know that this is your website, but to get it online. Click the Settings button with the <i class="fa fa-fw fa-cog" aria-hidden="true"></i> icon (highlighted in green below).

![](/images/posts/creating-website/settings.png)

This will, unsurprisingly, take you to the Settings page. The very first option (highlighted in green below) is the repository name, and that's all we need to worry about now. It should look like this, with \<yourusername\> in place of jayrobwilliams before the .github.io. Now, we need to change the repository name to \<yourusername\>.github.io. It's important that the first part of the repo name *exactly* match your GitHub username, or you'll run into trouble later when putting your website online.

![](/images/posts/creating-website/rename.png)

In my case, I renamed the repo to "jayrobwilliams.github.io" because my GitHub username is jayrobwilliams.

![](/images/posts/creating-website/renamed.png)

We've told GitHub that this repository is for our website, so now it's time to start working on that website. To do that, we need to get the files for our website into our computer.

![](/images/posts/creating-website/zoolander.gif){: .align-center }

## Git

Since we're going to host our website on GitHub, you'll need to make sure you have [Git](https://git-scm.com/) installed. Git is a version control system designed to let teams of programmers collaborate on projects seamlessly. For us, it's just going to be the way that we upload files for our webpage to GitHub. You can download Git from the [official downloads page](https://git-scm.com/downloads), but there are a couple of easier ways. If you're on MacOS, you can install Git via the Xcode Command Line Tools by running

```bash
sudo apt install git
```

This has the advantage of also installing a Ruby development environment, which we'll need later. If you're on Windows, you should download [Git Bash](https://gitforwindows.org/). While the Git you'll get from the official website will work just fine, Git Bash emulates a Unix terminal, meaning that you'll use Unix commands instead of the Windows commands you'd use in `cmd.exe`. Why is this useful? I use MacOS and Linux, so this tutorial is written from that perspective. Beyond my laziness in not providing the equivalent Windows commands alongside the Unix ones, most Git related information you'll find online at places like [Stack Overflow](https://stackoverflow.com/questions/tagged/git) will be written for a Unix audience. By using Git Bash, you'll be able to follow any advice you find and not have to translate it into Windows commands. Most (all??) Linux distributions ship with Git, so you should be good to go if you're using Linux.

Now that you've got Git, you can download the files that will make up your website to your compute. To do that, we'll *clone* the repository from GitHub to our computer.

> Git-speak aside: cloning a repository means creating a local repository (folder) on your computer that's connected to the remote repository (on GitHub). Cloning differs from downloading in that you are setting up a connection between the two folders so you can keep changes you make locally synced up with the remote repository (which is where GitHub will build your website from).

Find the green Clone or Download button on the right side of your repository's page (highlighted in green below). When you click it, a dialog will pop up that contains the URL you will use to clone your repository to your computer. Click the clipboard icon to the right, and the URL will be copied to your clipboard.

![](/images/posts/creating-website/clone.png)

Once you've done that, open a terminal and navigate to where you want your website's folder to live. I keep mine at the top level of my Dropbox, so I would type

```console
cd ~/Dropbox
```

to navigate there. Use the `pwd` command to verify you're in the right place; if you're also putting your website at the top level of your dropbox, the output should be `/Users/<yourusername>/Dropbox/`. Now it's time to clone our GitHub repo to our computer and create our local repo.

Do this by typing 

```bash
git clone https://github.com/<yourusername>/<yourusername>.github.io.git
```
{: .no-copy}

and running it. This will create a folder called `<yourusername>.github.io`, which is honestly kind of clunky and not instantly informative when you're scanning through your files. To give it a more informative name e.g, Website, run

```bash
git clone https://github.com/<yourusername>/<yourusername>.github.io.git Website
```
{: .no-copy}

Adding `Website` at the end will clone the GitHub repo into a folder called 'Website' instead of `<yourusername>.github.io`.


# Making it yours

Now that you've got all the files needed to build your website on your computer, it's time to start personalizing this generic template!

## Editing pages

All of the actual content of your site is contained in `.md` files, which are Markdown files. Most of these files live in the `_pages` directory. The [documentation](https://academicpages.github.io/markdown/) that comes with the template is relatively straightforward, and does a pretty good job telling you how to customize your site. For example, the landing page can be changed by editing the `_pages/about.md` file and the sidebar information is controlled by the `_config.yml` file. Let's start by editing `_config.yml` to rename put our name on the site and change the sidebar to reflect our information.

I've copied the first several lines of `_config.yml` below:

```yml
# Welcome to Jekyll!
#
# This config file is meant for settings that affect your entire site, values
# which you are expected to set up once and rarely need to edit after that.
# For technical reasons, this file is *NOT* reloaded automatically when you use
# `jekyll serve`. If you change this file, please restart the server process.

# Site Settings
locale                   : "en-US"
title                    : "Your Name / Site Title"
title_separator          : "-"
name                     : &name "Your Name"
description              : &description "personal description"
url                      : https://academicpages.github.io # the base hostname & protocol for your site e.g. "https://mmistakes.github.io"
baseurl                  : "" # the subpath of your site, e.g. "/blog"
repository               : "academicpages/academicpages.github.io"
teaser                   :  # filename of teaser fallback teaser image placed in /images/, .e.g. "500x300.png"
breadcrumbs              : false # true, false (default)
words_per_minute         : 160
future                   : true
read_more                : "disabled" # if enabled, adds "Read more" links to excerpts
talkmap_link             : false #change to true to add
```

You'll want to change the following things:

- `"Your Name / Site Title"` to your name
- `&name "Your Name"` to your name
- `https://academicpages.github.io` to the name of your repository (and also your github username) i.e., `https://<yourusername>.github.io`
- `"academicpages/academicpages.github.io"` to your GitHub username and the repo name i.e., `"<yourusername>/<yourusername>.github.io"`

When you're finished, it should look like this:

```yml
# Welcome to Jekyll!
#
# This config file is meant for settings that affect your entire site, values
# which you are expected to set up once and rarely need to edit after that.
# For technical reasons, this file is *NOT* reloaded automatically when you use
# `jekyll serve`. If you change this file, please restart the server process.

# Site Settings
locale                   : "en-US"
title                    : "<Your Name>"
title_separator          : "-"
name                     : &name "<Your Name>"
description              : &description "personal description"
url                      : https://<yourusername>.github.io # the base hostname & protocol for your site e.g. "https://mmistakes.github.io"
baseurl                  : "" # the subpath of your site, e.g. "/blog"
repository               : "<yourusername>/<yourusername>.github.io"
teaser                   :  # filename of teaser fallback teaser image placed in /images/, .e.g. "500x300.png"
breadcrumbs              : false # true, false (default)
words_per_minute         : 160
future                   : true
read_more                : "disabled" # if enabled, adds "Read more" links to excerpts
talkmap_link             : false #change to true to add
```

This will put your name on the website and tell GitHub where to look for the files that make up your site. Now let's check out our changes and make sure everything's working like it's supposed to!

## Previewing your website

Once we upload our modified files to GitHub (and tell GitHub to turn them into a website, which we'll cover below), they're out there on the internet for everyone to see. If you're like me, you'll make a lot of mistakes when working on your website. There's no need to broadcast all of those mistakes to the world, and we can avoid this very easily by previewing our website locally. What this means is building the site from the various `.md` files, rendering it to HTML, and then viewing it. We can do all of that on our computer without ever having to put it online.

To preview your website locally, you'll need to install Jekyll on your computer. The easiest way to do this is with [Bundler](https://bundler.io/). Bundler is a package manager for Ruby, which is the programming language that Jekyll is written in. This means that we need a full Ruby development environment to get Jekyll working to run our website locally. If you're on Windows, [RubyInstaller](https://rubyinstaller.org/) will give you everything you need. If you're on MacOS, your computer comes with Ruby, but not the development headers required for Bundler to work. If you installed Git via the Xcode Command Line tools earlier, you're good to go here. If not, you can install Ruby Ruby via [Homebrew](https://brew.sh) with

```bash
sudo apt-get install ruby-full build-essential zlib1g-dev
```

If you're on Linux, just install Ruby via your package manager. Once that's taken care of, it's time to install Bundler. Do so by running

set up a gem installation directory for your user account. The following commands will add environment variables to your ~/.bashrc file to configure the gem installation path:

```terminal
echo '# Install Ruby Gems to ~/gems' >> ~/.bashrc
echo 'export GEM_HOME="$HOME/gems"' >> ~/.bashrc
echo 'export PATH="$HOME/gems/bin:$PATH"' >> ~/.bashrc
source ~/.bashrc
```

```bash
gem install bundler
```

in a terminal. If you've navigated away from the directory where your website is located (which is `~/Dropbox/Website` for me), head back there now. Do this with

```bash
cd ~/Dropbox/Website
```

but replace `~/Dropbox/Website` with the path to your website's repo. Next, we need to install any packages (called 'gems' in Ruby) that Jekyll depends on. This is where Bundler shines by taking care of this whole process for us; it reads the `Gemfile` included with the source code and installs all required gems

```bash
bundle install
```

If you want to see what's been installed, run `gem list` before and after `bundle install`. If everything worked correctly, you can now launch your website! What we're going to do is start a webserver on your computer, which will let you access your website locally without having to put it out on the internet. We do this with

```bash
bundle exec jekyll serve
```

The `bundle exec` command is just a prefix that lets ruby access all of the gems specified in the `gemfile`. The `jekyll serve` command builds your website and starts a webserver so that you can view it locally. To access your website, open a browser and go to `127.0.0.1:4000` or `localhost:4000`. It should look exactly like the [example](https://academicpages.github.io/) site.

This is a special version of your site that's only accessible from your computer; no one else can see it! So this is the perfect place to play around, experiment, and see how to make your site do what you want it to. This process is surprisingly easy. Make a change to a file e.g., editing `_pages/about.md` to introduce yourself, and save the file. That's all you have to do; Jekyll will notice the change to the file and automatically rebuild the site. All that's left to do is refresh your browser so you can see the changes!

Once you've made a couple changes to see how it works, you might want to turn off the webserver and make lots of changes, then check out your handiwork. Or maybe you're just done working on your website for now. Either way, it's time to shut down the webserver. To do so, you can just close the terminal window, but you'll get a warning like this.

![](/images/posts/creating-website/terminate.png)

To save yourself some time and do this faster, simply press <kbd>Ctrl</kbd>+<kbd>c</kbd>.[^2]

# Getting online

Alright, you've made some changes from the template, checked them out locally, and you're ready to share your website with the world. This is a two step process. First we need to upload all of our modified files to the GitHub repo we forked from the template. Then we need to configure GitHub Pages to build and deploy our website. Finally, if you want a custom domain name, we need to do some configuration outside of GitHub Pages to connect your domain name with your website.

## Uploading changes to GitHub

To upload your changes to GitHub, we first have to make Git locally aware of them. We do this by committing the changes, then pushing them to the repo on GitHub

> Git-speak aside: Git stores file histories as a series of changes or differences. A batch of changes (which can include changes in one or more files) is called a *commit*. When you want to tell the remote repo (the one on GitHub) about changes you've made, you *push* a commit from the local repo to the remote one. Once you do this, GitHub looks at the differences and modifies the files in the remote repo.

Before we can commit the changes, we need to stage them. This just involves telling Git what changes we want to commit. To make our lives easier, let's check in on what changes we've made

```bash
git status
```

You should get results that look something similar to this:

```
On branch master
Your branch is up to date with 'origin/master'.

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git checkout -- <file>..." to discard changes in working directory)

	modified:   _config.yml

Untracked files:
  (use "git add <file>..." to include in what will be committed)

	Gemfile.lock

no changes added to commit (use "git add" and/or "git commit -a")
```

We can ignore the first part for now. The second part (`Changes not staged for commit`) will list any files that Git knows about that have changed. The third part (`Untracked files`) includes files we haven't told Git about, so as far as it's concerned they don't exist. I've edited `_config.yml` to replace the template's information with my own, so it shows up here. If you want to verify the changes you made, you'll want to *diff* the file. Do this with

```bash
git diff _config.yml
```

This is what the output looked like for me. Note that your output may or may not be color-coded depending on what type of system you're on and your Git settings.

```diff
diff --git a/_config.yml b/_config.yml
index 1dc605c..4affb4e 100644
--- a/_config.yml
+++ b/_config.yml
@@ -7,13 +7,13 @@
 
 # Site Settings
 locale                   : "en-US"
-title                    : "Your Name / Site Title"
+title                    : "Mohammad Shamshad"
 title_separator          : "-"
-name                     : &name "Your Name"
+name                     : &name "Mohammad Shamshad"
 description              : &description "personal description"
-url                      : https://academicpages.github.io # the base hostname & protocol for your site e.g. "https://mmistakes.github.io"
+url                      : https://shamshadm.github.io # the base hostname & protocol for your site e.g. "https://mmistakes.github.io"
 baseurl                  : "" # the subpath of your site, e.g. "/blog"
-repository               : "academicpages/academicpages.github.io"
+repository               : "shamshadM/shamshadm.github.io"
 teaser                   :  # filename of teaser fallback teaser image placed in /images/, .e.g. "500x300.png"
 breadcrumbs              : false # true, false (default)
 words_per_minute         : 160
```

Each line that begins with a `+` indicates an insertion and each line that starts with a `-` is a deletion. You can see that I've just replaced the generic information with mine. Now that we're confident in the changes we made to `_config.yml`, we need to tell Git to record them. We first stage the file with

```bash
git add _config.yml
```

which stages the file. If we re-run `git status`, we'll see

```
On branch master
Your branch is up to date with 'origin/master'.

Changes to be committed:
  (use "git reset HEAD <file>..." to unstage)

	modified:   _config.yml

Untracked files:
  (use "git add <file>..." to include in what will be committed)

	Gemfile.lock
```

You'll notice that `_config.yml` has moved from `Changes not staged for commit` to `Changes to be committed` (`Changes not staged for commit` has disappeared since we haven't made any changes to other files that Git is tracking). Now we're finally ready to commit our changes!

```bash
git commit -m "add my info to config file"
```

This tells Git to record the changes we made to `_config.yml`. The `-m "add my info to config file"` is the *commit message* for this commit.[^3] You should see something like this, but with a different number after `master` on the first line.[^4] 

```
[master a8af7b1] add my info to config file
 1 file changed, 4 insertions(+), 4 deletions(-)
```

That means our changes have been recorded locally by Git. Once we've committed our changes to `_config.yml`, it's time to upload them to GitHub! We do this by pushing the changes to GitHub, which will then modify its copies of the files to match ours. This is (relatively) straightforward

```bash
git push
```

Git will then prompt you for your username and password.[^5] This will be your GitHub username and password. Enter each of them and you should be good to go! If everything goes smoothly, you will see a message something like this

```
Enumerating objects: 9, done.
Counting objects: 100% (9/9), done.
Delta compression using up to 4 threads
Compressing objects: 100% (5/5), done.
Writing objects: 100% (5/5), 426 bytes | 426.00 KiB/s, done.
Total 5 (delta 4), reused 0 (delta 0)
remote: Resolving deltas: 100% (4/4), completed with 4 local objects.
To github.com:jayrobwilliams/jayrobwilliams.github.io.git
   83c3bc4..a8af7b1  master -> master
```

This is just Git telling you exactly how it recorded the changes and uploaded them to GitHub, the content of it doesn't matter and you can ignore it. If things don't go smoothly, you may get an error that looks something like this

```
fatal: No configured push destination.
Either specify the URL from the command-line or configure a remote repository using

    git remote add <name> <url>

and then push using the remote name

    git push <name>
```

Your repo on github is the "remote" that your local Git needs access to. To fix this error, we just need to tell Git where to find the remote

```bash

git remote add origin https://github.com/<yourusername>/<yourusername>.github.io.git
git push -u origin master
```

The next step is to go to GitHub and check our your changed file. Head back to your repository (https://github.com/\<yourusername\>/\<yourusername\>.github.io, as a reminder) and click the commits button at the bottom left (highlighted in green below).

![](/images/posts/creating-website/commits.png)

On the commits page, you should see the commit you just made

![](/images/posts/creating-website/commit.png)

If you do, then you're all set.

## Going live

All that's left to do now is take our website live. If using git on the command line has been stressing you out, you'll be glad to know that this part happens entirely in your browser.

![](/images/posts/creating-website/live.gif){: .align-center }

You want to go back to the settings page for your repo (the button with the <i class="fa fa-fw fa-cog" aria-hidden="true"></i> at the top right of the page) since that's where we'll turn this collection of files into a website. Scroll down until you get to the GitHub Pages section Click the dropdown currently labeled "None" under the "Source" subheading, and choose "master branch" from the popup (highlighted in green below).[^6]

![](/images/posts/creating-website/pages.png)

Once you do this, the page should reload. Scroll back down to the "GitHub Pages" heading, and there should be a message at the top that "Your site is ready to be published at https://\<yourusername\>.github.io/". You can see what this looks like for me below

![](/images/posts/creating-website/publish.png)

Now, here's where things may get a little tricky. Go to https://\<yourusername\>.github.io/ and see if there's a website there. If there is, skip down to the last section below. If not, go back to the settings page for your repo and see if there's still a "ready to be published" message. If there is, you may have to push an additional change to the repo to trigger building your site. Editing `_pages/about.md` to personalize the welcome message and short biography is a good candidate here. Once you've personalized your site's landing page, record the changes and push them to the repo

```bash
git add _pages/about.md
git commit -m "edit welcome page"
git push
```

Then head back to the repo's settings page and see if the "ready to be published" message has changed to "<i class="fa fa-fw fa-check" aria-hidden="true"></i> Your site is published at https://\<yourusername\>.github.io/". You can see what this looks like for my website below

![](/images/posts/creating-website/published.png)

You'll notice that the URL for my site is https:/shamshad.in. I'll cover how to get a custom domain name for your site in a future post.

# Next steps

Congratulations! You now have a professional looking academic website that's yours forever; you won't lose access to it when you leave your current institution. At this point you should continue making it your own by adding information on your research projects (edit the `.md` files in `_portfolio` folder to have them populate the Portfolio page with information on each of your research projects), teaching experience (`_pages/teaching.md`), and accomplishments (`_pages/cv.md`). Remember that you can preview any changes locally with `bundle exec jeykll serve`. If you add any new files, like PDFs of your working papers or publications, be sure to `git add` them as well, so that they'll be uploaded to your repo with the next `git push`. You may have noticed that there are lots of small differences between my website and the template, and not just in terms of content. In a future post, I'll talk about how to further customize the look of your site to make it feel more unique.

[^1]: GitHub might look a little different for you since it recently went through a [redesign](https://github.blog/changelog/2020-06-23-design-updates-to-repositories-and-github-ui/). Everything you're looking for is still there and should be recognizable from the images.

[^2]: Yes, even if you're on MacOS; <kbd>Ctrl</kbd>+<kbd>c</kbd> has been the way to cancel programs on the command line since the 1960s while the <kbd>&#8984;</kbd> key did not exist on computers until the Macintosh in [1984](https://en.wikipedia.org/wiki/Command_key#Origin_of_the_symbol), and the terminal is olddd.

[^3]: Yes, you can omit the `-m "..."` with `git commit`, but it will open up your system's default editor (likely vim, emacs, or nano), none of which are remotely beginner-friendly. Until you decide to learn one of them, `git commit -m` is perfectly fine.

[^4]: This is the *hash* for the commit; it's a 40 digit string that uniquely identifies the changes that you're committing. This is useful if you want to retrace your steps or undo things in the

[^5]: If you've set up [SSH authentication](https://help.github.com/en/github/authenticating-to-github/connecting-to-github-with-ssh) for GitHub, then you won't be prompted to enter your credentials.

[^6]: Ignore the "Choose a theme" button; it's for use with bare bones GitHub pages sites and the academicpages template supplies all the components for its theme.]]></content><author><name>M. Shamshad</name><email>shamshad.rattan@gmail.com</email></author><category term="website" /><category term="website" /><category term="git" /><category term="github" /><summary type="html"><![CDATA[If you’re an academic, you need a website. Obviously I agree with this since you’re reading this on my website, but if you don’t have one, you should get one. Most universities these days provide a free option, usually powered by WordPress (both WashU and UNC use WordPress for their respective offerings). While these sites are quick to set up and come with the prestige of a .edu URL, they have several drawbacks that have been extensively written on.]]></summary></entry><entry><title type="html">Combining PDF Documents the Smarter Way</title><link href="https://shamshad.in/posts/2019/07/combining-pdfs-naturally/" rel="alternate" type="text/html" title="Combining PDF Documents the Smarter Way" /><published>2019-07-08T00:00:00+05:30</published><updated>2024-10-06T20:53:46+05:30</updated><id>https://shamshad.in/posts/2019/07/combining-pdfs-naturally</id><content type="html" xml:base="https://shamshad.in/posts/2019/07/combining-pdfs-naturally/"><![CDATA[My previous [post]({{ site.baseurl }}{% post_url 2019-06-25-combining-pdfs %}) on combining multiple PDF files had an important caveat that things would end up in the wrong order if you had files with leading ID numbers that started at 1 and ended at 12, you'd end up with PDFs combined in the order 1, 10, 11, 12, 2, 3, ..., 9.
<!--more-->
This is because the default sort in Bash is an alphabetic sort. This is just our standard alphabetic sort, but it gets tripped up when dealing with numbers. We can think of it as a type of 'greedy' algorithm because it sorts all inputs by the first character, before moving onto the second character within each subset. This behavior is fine (and desirable!) for words, but fails with numbers.

We want to use a [natural sort](https://en.wikipedia.org/wiki/Natural_sort_order), which is just an alphabetic sort that treats multi-digit numbers as numbers instead of a collection of characters. A natural sort of our files would combine them in the order 1, 2, 3, 4, 5, ..., 12, 13. That means a natural sort can handle a wider range of numbering styles!

# How it Works

This script uses the same basic idea as the first one, but sorting the input files with a natural sort requires some Bash tricks. This time around the code is

```bash
#!/bin/bash
if [[ $# -eq 0 ]]; then
  printf '%s\0' ./*.pdf | sort -zV | xargs -0 gs -dBATCH -dNOPAUSE -q -sDEVICE=pdfwrite -sOutputFile=output.pdf
else
  printf '%s\0' ./*.pdf | sort -zV xargs -0 gs -dBATCH -dNOPAUSE -q -sDEVICE=pdfwrite -sOutputFile=$1
fi
```

This looks complicated, so let's break it down into individual parts. Each part is separated by a `|`, or pipe, which directs the output from one function to the next. If you've ever used magrittr's pipes (`%>%`) in R, the concept is exactly the same.

## `printf`

The first part of the first Ghostscript line is

```bash
printf '%s\0' ./*.pdf
```

. The `printf` command is a *very* old C command, ported to Bash as a **shell builtin**. It allows you to print multiple inputs while formatting the output produced. `printf` uses **format specifiers** to tell the function how to print inputs. While it can be used to format integers and doubles, we're going to be dealing with filenames, which are strings, and denoted with `'%s'`.

When we give `printf` more than one input, we need to tell it what type of **separator** to use, otherwise it will just print all of the inputs in one giant string. If you use a **newline** (`\n`), then `printf` will produce output equivalent to `ls *.pdf`. For our purposes, we want to use a **null terminator** (`\0`) to separate inputs. You can't actually see null terminators in the printed output, but any commands you pass them to will be able to.

## `sort`

The next part of the first Ghostscript line is

```bash
sort -zV
```

This is where the magic happens that properly sorts our input files even if their numbers are missing leading zeroes. The `-z` flag tells `sort` to return the sort inputs still separated by null terminators, while the `-V` flag performs a **version sort**, the function's name for a natural sort.

## `xargs`

The final part of the first Ghostscript line is

```bash
xargs -0 gs -dBATCH -dNOPAUSE -q -sDEVICE=pdfwrite -sOutputFile=output.pdf
```

This is almost identical to the `gs` call in the simpler script. However, that script had `*.pdf` at the end as the "files" argument to `gs`. That won't work for us here as we had to use `printf` and `sort` first to get our document correctly sorted. `xargs` converts the standard input produced by `|` into arguments that `gs` can accept.

The `-0` flag tells the function to expect null terminators as separators instead of spaces or newlines. Without this flag, you'll get an error if any of your PDFs have spaces in their filenames. This is why we've been using null terminators as separators all along; without them our script would be helpless against filenames with spaces in them.

The command we want to use, `gs` in this case, comes *after* `xargs`. You can read this line as `gs -dBATCH -dNOPAUSE -q -sDEVICE=pdfwrite -sOutputFile=output.pdf files` where `files` is the naturally sorted list of PDF files produced by the first two parts of the line. And we're done!

## Putting it all Together

When you run this script, it finds all PDF files in a directory, sorts them with a natural sort, and then combines them into a single PDF document. Just like before, you can can supply an output filename.

# Running It

Just like before, we need to make our script executable and add it to our PATH in order to run it. Refer to my previous [post]({{ site.baseurl }}{% post_url 2019-06-25-combining-pdfs %}) for a reminder on how to do so. No caveats about document ID numbers this time, but you're on your own if the publisher decided to just use chapter names with no ID numbers...]]></content><author><name>M. Shamshad</name><email>shamshad.rattan@gmail.com</email></author><category term="PDF" /><category term="references" /><category term="bash" /><summary type="html"><![CDATA[My previous post on combining multiple PDF files had an important caveat that things would end up in the wrong order if you had files with leading ID numbers that started at 1 and ended at 12, you’d end up with PDFs combined in the order 1, 10, 11, 12, 2, 3, …, 9.]]></summary></entry><entry><title type="html">Combining PDF Documents</title><link href="https://shamshad.in/posts/2019/06/combining-pdfs/" rel="alternate" type="text/html" title="Combining PDF Documents" /><published>2019-06-26T00:00:00+05:30</published><updated>2024-10-06T20:53:46+05:30</updated><id>https://shamshad.in/posts/2019/06/combining-pdfs</id><content type="html" xml:base="https://shamshad.in/posts/2019/06/combining-pdfs/"><![CDATA[How many times have you found that your institution has access to a digital version of a book you need only to discover that it comes in 15 different PDF files?
<!--more-->
I use [Zotero](https://www.zotero.org/) as my reference manager and it's difficult to attach more than one file to an entry, so I've certaintly spent time in the past painstakingly combining every section of a book together before adding it to Zotero. I finally got tired of doing this by hand and wrote a short Bash script to automate this process. Now I can combine as many PDFs as I want with a single command!

# How it works

My solution relies on [Ghostscript](https://www.ghostscript.com/) to combine multiple PDF files from the command line. On a Mac you can easily install Ghostscript using [Homebrew](https://brew.sh/) by running

```bash
brew install ghostscript
```

Once you've done that you've got everything you need. Create a shell script and put the following in it

```bash
#!/bin/bash
if [[ $# -eq 0 ]]; then
  gs -dBATCH -dNOPAUSE -q -sDEVICE=pdfwrite -sOutputFile=output.pdf *.pdf
else
  gs -dBATCH -dNOPAUSE -q -sDEVICE=pdfwrite -sOutputFile=$1 *.pdf
fi
```

The script first checks if you've supplied an output filename as an argument, and if not uses the default name of `output.pdf`. Be aware of where you run this script as it will overwrite a file called `output.pdf` if it exists in the active directory! If you have supplied an output filename, it will use that instead of `output.pdf`.

## Running it

To actually run this script, there are two steps left:

1. Make it executable
2. Add it to your PATH

Making your script executable is relatively straightforward. Use the `chmod +x` command in Terminal on your script. I saved mine as `PDFcombine.sh` so I ran `chmod +x PDFcombine.sh`. Putting your script on your PATH just ensures that your Terminal will be able to find it when you call it to combine PDF files. It's a little more complicated so I'll just link to this [excellent StackExchange answer](https://unix.stackexchange.com/a/26059) on how to do so. On my system this script lives in a directory in my Dropbox with similar other small utilities called `Bash`, so my `.bash_profile` has these lines in it

```bash
# custom bash scripts                                                           
export PATH=$PATH:/Users/Rob/Dropbox/Methods/Bash
```

to add it to my PATH. As an added bonus Ghostscript will (usually) rotate any pages containing sideways tables or figures!

# A warning

This script will combine PDF files in the order that `ls *.pdf` returns them. By default, this will be an *alphabetic sort*, so the files 1.pdf, 2.pdf, and 10.pdf would be combined in the following order: 1.pdf, 10.pdf, 2.pdf.

You can fix this by adding leading zeroes to all filenames so that each ID string is the same length. Most digital versions of books give you filenames like this, but be sure to check, otherwise your combined PDF might require a lot of skipping around. This script can be written to perform a *natural sort* of input files, but the code to do so is more complex, so I'll cover it in a future post.]]></content><author><name>M. Shamshad</name><email>shamshad.rattan@gmail.com</email></author><category term="PDF" /><category term="references" /><category term="bash" /><summary type="html"><![CDATA[How many times have you found that your institution has access to a digital version of a book you need only to discover that it comes in 15 different PDF files?]]></summary></entry></feed>